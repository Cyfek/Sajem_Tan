<head>
  <title>Sajem Tan Romanization to IPA</title>
  <meta charset="UTF-8">
  <link rel="shortcut icon" type="image/png" href="flag.png">
</head>
<body>
  <a href="index.html">Sajem Tan tools index</a>
  <textarea id="orth" rows="4" cols="50"></textarea><br>
  <select id="from">
    <option value="oldorth"> Original Orthography</option>
    <option value="neworth"> Reformed Orthography</option>
    <option value="oldipa"> Original IPA</option>
    <option value="newipa"> Reformed IPA</option>
  </select>
  &rarr;
  <select id="to">
    <option value="oldorth"> Original Orthography</option>
    <option value="neworth"> Reformed Orthography</option>
    <option value="oldipa"> Original IPA</option>
    <option value="newipa"> Reformed IPA</option>
  </select>
  <input id="switch" type="button" value="Switch" onclick="parse()">
  <p id="ipa"></p>
  <script type="text/javascript">
    var oldipa = ["d", "g", "x", "\u028e", "f", "v", "\u03b8", "s", "z", "\u0283", "\u0292", "\u026c", "\u026e", "m", "n", "\u00e6", "\u0153", "e", "\u00f8", "i", "y", "\u028c", "\u0264", "t\u0361s", "t", "k", "\u0251", "\u025b", "\u0275", "u"];
    var newipa = ["d", "g", "x", "j", "f", "v", "\u03b8", "s", "z", "\u0283", "\u0292", "\u026c", "\u026e", "m", "n", "\u00e6", "\u0153", "e", "\u00f8", "i", "y", "\u028c", "\u028a", "t\u0361s", "t", "k", "\u0251", "\u025b", "o", "u"];
    var oldorth = ["d", "g", "x", "j", "f", "v", "th", "s", "z", "sh", "zh", "sl", "zl", "m", "n", "a", "el", "e", "ol", "i", "y", "uh", "ul", "c", "t", "k", "ah", "eh", "o", "u"];
    var neworth = ["d", "g", "x", "j", "f", "v", "th", "s", "z", "š", "ž", "l", "r", "m", "n", "a", "ë", "e", "ö", "i", "y", "û", "ü", "c", "t", "k", "â", "ê", "o", "u"];
    
    function getList(value) {
      if (value == "oldipa") { return oldipa; }
      if (value == "newipa") { return newipa; }
      if (value == "oldorth") { return oldorth; }
      if (value == "neworth") { return neworth; }
    }
    
    function parse() {
      var input = document.getElementById("orth").value.toLowerCase();
      var inlist = getList(document.getElementById("from").value);
      var outlist = getList(document.getElementById("to").value);
      
      for (var i = 0; i < inlist.length; i++) {
        input = input.replace(new RegExp(inlist[i], "g"), outlist[i]);
      }
      
      document.getElementById("ipa").innerHTML = input;
    }
  </script>
</body>
